	@BeforeClass
	public static void beforeClass() throws Exception {
		repositoryFile = createProjectAndCommitToRepository();
		remoteRepositoryFile = createRemoteRepository(repositoryFile);
		// now let's clone the remote repository
		URIish uri = new URIish("file:///" + remoteRepositoryFile.getPath());
		File workdir = new File(getTestDirectory(), "ClonedRepo");

		Collection<Ref> remoteRefs = getRemoteRefs(uri);
		Ref myref = null;
		for (Ref ref : remoteRefs) {
			if (ref.getName().equals("refs/heads/master")) {
				myref = ref;
				break;
			}
		}
		CloneOperation op = new CloneOperation(uri, true, null, workdir,
				myref, "origin", 0);
		op.run(null);

		clonedRepositoryFile = new File(workdir, Constants.DOT_GIT);

		// now let's clone the remote repository
		uri = new URIish(remoteRepositoryFile.getPath());
		workdir = new File(getTestDirectory(), "ClonedRepo2");

		remoteRefs = getRemoteRefs(uri);
		myref = null;
		for (Ref ref : remoteRefs) {
			if (ref.getName().equals("refs/heads/master")) {
				myref = ref;
				break;
			}
		}
		op = new CloneOperation(uri, true, null, workdir, myref,
				"origin", 0);
		op.run(null);

		clonedRepositoryFile2 = new File(workdir, Constants.DOT_GIT);
	}

