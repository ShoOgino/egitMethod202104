	@Test
	public void testAddValue() throws Exception {
		config.setString(TESTSECTION, null, TESTNAME, "true");
		config.save();
		getGitConfigurationPreferencePage();
		preferencePage.bot().tree(1).getTreeItem(TESTSECTION).getNode(TESTNAME)
				.select();
		preferencePage.bot().textWithLabel(
				UIText.ConfigurationEditorComponent_ValueLabel).setText(
				"second");
		bot.button(UIText.ConfigurationEditorComponent_AddButton).click();
		// press apply
		preferencePage.bot().button(JFaceResources.getString("apply")).click();
		config.load();
		List<String> values = Arrays.asList(config.getStringList(TESTSECTION,
				null, TESTNAME));
		assertEquals("Wrong number of values", 2, values.size());
		assertTrue(values.contains("true"));
		assertTrue(values.contains("second"));
		// add another value
		preferencePage.bot().tree(1).getTreeItem(TESTSECTION).getNode(
				TESTNAME + "[1]").select();
		preferencePage.bot().textWithLabel(
				UIText.ConfigurationEditorComponent_ValueLabel).setText(
				"middle");
		bot.button(UIText.ConfigurationEditorComponent_AddButton).click();
		// close the editor
		preferencePage.bot().button(IDialogConstants.OK_LABEL).click();
		config.load();
		values = Arrays.asList(config
				.getStringList(TESTSECTION, null, TESTNAME));
		assertEquals("Wrong number of values", 3, values.size());
		assertTrue(values.contains("true"));
		assertEquals(1, values.indexOf("middle"));
		assertTrue(values.contains("second"));
	}

