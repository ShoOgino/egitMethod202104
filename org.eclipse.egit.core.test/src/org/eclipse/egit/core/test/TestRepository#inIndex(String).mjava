	public boolean inIndex(String path) throws IOException {
//		String repoPath = getRepoRelativePath(path);
//		GitIndex index = repository.getIndex();
//		return index.getEntry(repoPath) != null;
		String repoPath = getRepoRelativePath(path);
		DirCache dc = DirCache.read(repository.getIndexFile(), repository.getFS());

		return dc.getEntry(repoPath) != null;
	}

