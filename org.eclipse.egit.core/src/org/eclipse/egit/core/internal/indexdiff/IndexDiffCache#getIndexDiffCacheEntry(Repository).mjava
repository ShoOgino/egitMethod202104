	/**
	 * @param repository
	 * @return cache entry
	 */
	@Nullable
	public IndexDiffCacheEntry getIndexDiffCacheEntry(@NonNull Repository repository) {
		if (repository.isBare()) {
			return null;
		}
		File gitDir = new Path(repository.getDirectory().getAbsolutePath())
				.toFile();
		return entries.computeIfAbsent(gitDir,
				dir -> new IndexDiffCacheEntry(repository, globalListener));
	}

