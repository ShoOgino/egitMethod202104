	/**
	 * @return all Repository instances contained in the cache
	 */
	public Repository[] getAllRepositories() {
		prune();
		List<Repository> repositories = new ArrayList<Repository>();
		synchronized (repositoryCache) {
			for (Reference<Repository> reference : repositoryCache.values()) {
				Repository repository = reference.get();
				if (repository != null) {
					repositories.add(repository);
				}
			}
		}
		return repositories.toArray(new Repository[repositories.size()]);
	}

