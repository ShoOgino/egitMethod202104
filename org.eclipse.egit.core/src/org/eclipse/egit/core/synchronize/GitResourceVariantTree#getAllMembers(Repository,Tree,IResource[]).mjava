	private Set<IResource> getAllMembers(Repository repo, Tree tree,
			IResource[] members) throws IOException, TeamException {
		Set<IResource> membersSet = new HashSet<IResource>();

		for (IResource member : members) {
			if (member.getType() == IResource.FILE) {
				String repoWorkDir = repo.getWorkDir().toString();
				String memberRelPath = member.getLocation().toString();
				memberRelPath = memberRelPath.replace(repoWorkDir, ""); //$NON-NLS-1$
				if (memberRelPath.startsWith(File.separator)) {
					memberRelPath = memberRelPath.substring(1);
				}
				TreeEntry entry = tree.findBlobMember(memberRelPath);
				if (entry != null) {
					ObjectLoader objLoader = repo.openBlob(entry.getId());
					store.setBytes(member, objLoader.getCachedBytes());
					membersSet.add(member);
				}
			} else if (member.getType() == IResource.FOLDER ) {
				try {
					IResource[] resources = ((IContainer) member).members();
					membersSet.addAll(getAllMembers(repo, tree, resources));
				} catch (CoreException e) {
					throw new TeamException(e.getStatus());
				}
			}
		}
		return membersSet;
	}

