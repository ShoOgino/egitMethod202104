	private void resizeCommentAndDiffScrolledComposite() {
		resizing = true;
		long start = 0;
		int lines = 0;
		if (trace) {
			IDocument document = diffViewer.getDocument();
			lines = document != null ? document.getNumberOfLines() : 0;
			System.out.println("Lines: " + lines); //$NON-NLS-1$
			if (lines > 1) {
				new Exception("resizeCommentAndDiffScrolledComposite") //$NON-NLS-1$
						.printStackTrace(System.out);
			}
			start = System.currentTimeMillis();
		}

		int widthHint;
		if (commentViewer.getTextWidget().getWordWrap()) {
			widthHint = commentAndDiffScrolledComposite.getClientArea().width;
			if (commentAndDiffScrolledComposite.getVerticalBar() != null
					&& !commentAndDiffScrolledComposite.getVerticalBar().isVisible())
				widthHint -= commentAndDiffScrolledComposite.getVerticalBar().getSize().x;
		} else {
			widthHint = SWT.DEFAULT;
		}
		Point size = commentAndDiffComposite
				.computeSize(widthHint, SWT.DEFAULT);
		commentAndDiffScrolledComposite.setMinSize(size);
		resizing = false;

		if (trace) {
			long stop = System.currentTimeMillis();
			long time = stop - start;
			long lps = (lines * 1000) / (time + 1);
			System.out
					.println("Resize + diff: " + time + " ms, line/s: " + lps); //$NON-NLS-1$ //$NON-NLS-2$
		}
	}

