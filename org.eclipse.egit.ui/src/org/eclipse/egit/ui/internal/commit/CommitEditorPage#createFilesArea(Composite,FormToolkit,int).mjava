	private void createFilesArea(Composite parent, FormToolkit toolkit, int span) {
		Section files = createSection(parent, toolkit, span);
		Composite filesArea = createSectionClient(files, toolkit);
		GridLayout filesAreaLayout = (GridLayout) filesArea.getLayout();
		filesAreaLayout.marginLeft = 0;
		filesAreaLayout.marginRight = 0;
		filesAreaLayout.marginTop = 0;
		filesAreaLayout.marginBottom = 0;

		CommitFileDiffViewer viewer = new CommitFileDiffViewer(filesArea,
				getSite(), SWT.MULTI | SWT.H_SCROLL | SWT.V_SCROLL
						| SWT.FULL_SELECTION);
		// commit file diff viewer uses a nested composite with a stack layout
		// and so margins need to be applied to have form toolkit style borders
		toolkit.paintBordersFor(viewer.getTable().getParent());
		StackLayout viewerLayout = (StackLayout) viewer.getControl()
				.getParent().getLayout();
		viewerLayout.marginHeight = 2;
		viewerLayout.marginWidth = 2;
		GridDataFactory.fillDefaults().grab(true, true).hint(SWT.DEFAULT, 80)
				.applyTo(viewer.getTable().getParent());
		viewer.setContentProvider(ArrayContentProvider.getInstance());
		viewer.setTreeWalk(getCommit().getRepository(), null);

		FileDiff[] diffs = getCommit().getDiffs();
		viewer.setInput(diffs);
		files.setText(MessageFormat.format(
				UIText.CommitEditorPage_SectionFiles,
				Integer.valueOf(diffs.length)));

		updateSectionClient(files, filesArea, toolkit);
	}

