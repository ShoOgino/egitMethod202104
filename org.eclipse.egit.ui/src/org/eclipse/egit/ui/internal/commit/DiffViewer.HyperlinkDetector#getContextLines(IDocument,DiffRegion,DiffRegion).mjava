		private int getContextLines(IDocument document, DiffRegion hunk,
				DiffRegion next) {
			if (next != null) {
				switch (next.diffType) {
				case ADD:
				case REMOVE:
					try {
						int diffLine = document
								.getLineOfOffset(next.getOffset());
						int hunkLine = document
								.getLineOfOffset(hunk.getOffset());
						return diffLine - hunkLine - 1;
					} catch (BadLocationException e) {
						// Ignore
					}
					break;
				default:
					break;
				}
			}
			return 0;
		}

