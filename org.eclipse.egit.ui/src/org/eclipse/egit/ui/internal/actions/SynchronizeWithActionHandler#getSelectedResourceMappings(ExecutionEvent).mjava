	/**
     * Based on {@link TeamAction#getSelectedResourceMappings}
     *
	 * @param event
     * @return the resource mappings that contain resources associated with the given provider
	 * @throws ExecutionException
	 */
    private ResourceMapping[] getSelectedResourceMappings(ExecutionEvent event) throws ExecutionException {
        Object[] elements = getSelectedResources(event);
        ArrayList providerMappings = new ArrayList();
        for (int i = 0; i < elements.length; i++) {
            Object object = elements[i];
            Object adapted = getResourceMapping(object);
            if (adapted instanceof ResourceMapping) {
                ResourceMapping mapping = (ResourceMapping) adapted;
                if (isMappedToProvider(mapping, "org.eclipse.egit.core.GitProvider")) { //$NON-NLS-1$
                    providerMappings.add(mapping);
                }
            }
        }
        return (ResourceMapping[]) providerMappings.toArray(new ResourceMapping[providerMappings.size()]);
    }

