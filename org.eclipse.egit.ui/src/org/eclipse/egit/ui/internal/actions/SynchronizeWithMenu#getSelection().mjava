	private IResource getSelection() {
		ISelection sel = srv.getSelection();

		if (!(sel instanceof IStructuredSelection))
			return null;

		Object selected = ((IStructuredSelection) sel).getFirstElement();
		if (selected instanceof IAdaptable)
			return (IResource) ((IAdaptable) selected)
					.getAdapter(IResource.class);

		if (selected instanceof IResource)
			return (IResource) selected;

		return null;
	}

