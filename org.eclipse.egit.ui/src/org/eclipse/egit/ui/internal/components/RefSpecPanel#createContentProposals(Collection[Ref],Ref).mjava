	private List<RefContentProposal> createContentProposals(
			final Collection<Ref> refs, final Ref head) {
		final TreeSet<Ref> set = new TreeSet<>(new Comparator<Ref>() {
			@Override
			public int compare(Ref o1, Ref o2) {
				// lexicographical ordering by name seems to be fine
				return o1.getName().compareTo(o2.getName());
			}
		});
		set.addAll(refs);
		if (head != null) {
			set.add(head);
		}

		final List<RefContentProposal> result = new ArrayList<>(
				set.size());
		for (final Ref r : set) {
			result.add(new RefContentProposal(localDb, r, head == null));
		}
		return result;
	}

